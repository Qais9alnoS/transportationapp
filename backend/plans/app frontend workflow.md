---
sticker: lucide//network
---
# مهام الواجهة الأمامية (Frontend) وتصميم تجربة المستخدم (UI/UX) لتطبيق "مكروجي" - قائمة TODO

هذا المستند يوضح المهام المطلوبة من مطور الواجهة الأمامية ومصمم تجربة المستخدم/واجهة المستخدم (UI/UX) لتطبيق "مكروجي". يجب تنفيذ هذه المهام خطوة بخطوة، مع التركيز على بناء واجهة جذابة، خفيفة، وسهلة الاستخدام، حتى في وضع عدم الاتصال. الهدف هو توفير تجربة مستخدم سلسة وفعالة.

**ملاحظة هامة:** أنت المسؤول عن الربط مع الواجهة الخلفية (Backend) بعد الانتهاء من تطويرها بالكامل. في هذه الأثناء، يجب بناء واجهات Placeholder (واجهات مؤقتة) لتمكين الاختبار والتطوير المستقل.

## المرحلة 1: التخطيط والتصميم الأولي (UI/UX Design)

*   **[x] المهمة 1.1: دراسة متطلبات تجربة المستخدم (UX Research).**
    *   ✔ تمت مراجعة وصف تجربة المستخدم وتحليل سلوك المستخدمين ونقاط الألم والفرص للتحسين.

*   **[x] المهمة 1.2: تصميم تدفق المستخدم (User Flows).**
    *   ✔ تم رسم خرائط تدفق المستخدم للسيناريوهات الرئيسية (البحث عن طريق، تتبع الرحلة، إرسال ملاحظات) في وضعي Online وOffline، مع التركيز على البساطة وتقليل عدد الخطوات.

*   **[x] المهمة 1.3: تصميم الهيكل السلكي (Wireframes).**
    *   ✔ تم إنشاء Wireframes لجميع الشاشات الرئيسية والفرعية مع التركيز على تخطيط العناصر وترتيبها بشكل عملي وبسيط.

*   **[x] المهمة 1.4: تصميم الواجهة المرئية (Visual Design / UI).**
    *   ✔ تم تطبيق الألوان والتدرجات الزمردية، تصميم الأيقونات والأزرار، ودعم الوضعين الفاتح والداكن مع ضمان تناسق التصميم عبر جميع الشاشات.

*   **[x] المهمة 1.5: تصميم تجربة الخريطة.**
    *   ✔ تم تحديد كيفية عرض الخريطة، تصميم أيقونات الموقع الحالي والمكاري والمواقف، اختيار ألوان خطوط المكاري، وتصميم طبقة الإضاءة الليلية التفاعلية.

*   **[x] المهمة 1.6: تصميم واجهات Placeholder.**
    *   ✔ تم تصميم واجهات مؤقتة لنتائج البحث، تفاصيل المكاري، وغيرها من البيانات لتمكين الاختبار والتطوير المستقل قبل ربط الـ API.

## المرحلة 2: إعداد بيئة التطوير الأساسية وتنفيذ الواجهة

*   **[x] المهمة 2.1: إعداد بيئة تطوير React Native.**
    *   ✔ تم تثبيت Node.js وnpm/yarn وReact Native CLI، وجميع الأدوات الأساسية جاهزة.

*   **[ ] المهمة 2.2: بناء هيكل المجلدات الأساسي.**
    *   إنشاء المجلدات المحددة في `project-structure.md` (components, pages, assets, services, utils, etc.).

*   **[ ] المهمة 2.3: تنفيذ شاشات الواجهة الأساسية (بدون ربط API).**
    *   بناء شاشة البداية (Splash Screen).
    *   بناء الشاشة الرئيسية (Home Screen) مع شريط البحث ومساحة الخريطة.
    *   بناء شاشة البحث عن الوجهة (Destination Search Screen) مع قائمة الوجهات الأخيرة والشائعة.
    *   بناء شاشة خيارات البحث (Filter Options Screen).
    *   بناء شاشة عرض النتائج المقترحة (Suggested Routes Screen) باستخدام بيانات وهمية (Mock Data).
    *   بناء شاشة تفاصيل الرحلة (Trip Details Screen) باستخدام بيانات وهمية.
    *   بناء شاشة تتبع الرحلة (Trip Tracking Screen) باستخدام بيانات وهمية.
    *   بناء شاشة تقييم الرحلة (Rating Screen).
    *   بناء شاشة إرسال الملاحظات/الشكاوى (Feedback/Complaint Screen).
    *   تطبيق الوضع الفاتح والداكن على جميع الشاشات.

*   **[ ] المهمة 2.4: دمج مكتبة الخرائط.**
    *   تثبيت `react-native-maps`.
    *   إعداد مفاتيح API لـ Google Maps (إذا لزم الأمر).
    *   عرض الخريطة في الشاشة الرئيسية وشاشة تتبع الرحلة.
    *   عرض موقع المستخدم الحالي على الخريطة.

## المرحلة 3: إدارة البيانات المحلية والعمل Offline

*   **[ ] المهمة 3.1: إعداد قاعدة البيانات المحلية.**
    *   تثبيت مكتبة SQLite لـ React Native (مثل `react-native-sqlite-storage` أو `WatermelonDB`).
    *   تصميم جداول قاعدة البيانات المحلية لتخزين:
        *   بيانات خطوط المكاري (مسارات، محطات، أسعار).
        *   الوجهات المفضلة.
        *   سجل البحث (الوجهات الأخيرة، الأماكن الشائعة).
        *   التقييمات والملاحظات المعلقة.

*   **[ ] المهمة 3.2: تنفيذ منطق العمل Offline.**
    *   تعديل شاشات البحث عن الوجهة والنتائج لاستخدام البيانات المخزنة محليًا.
    *   تطبيق خوارزميات البحث عن المسارات (أسرع، أقل مكاري، أرخص) محليًا باستخدام بيانات خطوط المكاري المخزنة.
    *   عرض رسالة تنبيه للمستخدم عند العمل في وضع Offline.
    *   تخزين التقييمات والملاحظات محليًا عند عدم توفر الاتصال.

*   **[ ] المهمة 3.3: إدارة بلاطات الخرائط (Map Tiles).**
    *   استكشاف خيارات لتخزين بلاطات الخرائط مؤقتًا (Caching Map Tiles) لتمكين عرض الخريطة في وضع Offline.

## المرحلة 4: ربط الواجهة الأمامية بالواجهة الخلفية (API Integration)

*   **[ ] المهمة 4.1: إعداد خدمة API.**
    *   إنشاء ملفات خدمة (Services) في `frontend/src/services` للتعامل مع طلبات الـ API (مثل `api.js` أو `routesService.js`).
    *   استخدام مكتبة مثل `axios` لإدارة طلبات HTTP.

*   **[ ] المهمة 4.2: ربط API البحث عن الطرق.**
    *   تعديل شاشة البحث عن الوجهة وشاشة النتائج لاستدعاء `POST /api/v1/search-route` من الباك اند عند توفر الاتصال.
    *   عرض النتائج المستلمة من الباك اند.

*   **[ ] المهمة 4.3: ربط API تحديث بيانات خطوط المكاري.**
    *   تنفيذ منطق لجلب تحديثات خطوط المكاري من `GET /api/v1/routes` وتحديث قاعدة البيانات المحلية عند توفر الاتصال.

*   **[ ] المهمة 4.4: ربط API تتبع المكاري (Online فقط).**
    *   تعديل شاشة تتبع الرحلة لاستدعاء `GET /api/v1/makro-locations` وعرض مواقع المكاري الحية على الخريطة.

*   **[ ] المهمة 4.5: ربط API بيانات الازدحام المروري (Online فقط).**
    *   دمج بيانات الازدحام المروري المستلمة من الباك اند في حسابات الزمن المقدر وعرض التنبيهات.

*   **[ ] المهمة 4.6: ربط API إرسال الملاحظات والشكاوى.**
    *   تعديل شاشة التقييم والملاحظات لإرسال البيانات إلى `POST /api/v1/feedback` و `POST /api/v1/complaints`.
    *   تنفيذ منطق لإرسال التقييمات والملاحظات المخزنة محليًا عند استعادة الاتصال.

*   **[ ] المهمة 4.7: ربط API مشاركة الموقع (Online فقط).**
    *   تعديل شاشة تتبع الرحلة لإرسال طلبات مشاركة الموقع إلى `POST /api/v1/share-location`.

## المرحلة 5: الميزات الذكية الإضافية والتنقيح

*   **[ ] المهمة 5.1: تنفيذ الوجهات المفضلة والأماكن الشائعة.**
    *   تخزين الوجهات المفضلة للمستخدم محليًا.
    *   عرض الوجهات الأخيرة والأماكن الشائعة (المخزنة محليًا أو من API).
    *   إضافة خيار لإضافة/إزالة الوجهات من المفضلة.

*   **[ ] المهمة 5.2: تنفيذ تنبيهات الاقتراب من المحطة.**
    *   استخدام GPS الجهاز لتحديد موقع المستخدم.
    *   مقارنة موقع المستخدم بالمحطات القادمة على المسار.
    *   تشغيل تنبيهات صوتية واهتزازية عند الاقتراب من المحطة أو نقطة التبديل.

*   **[ ] المهمة 5.3: تنفيذ وضع الطقس الليلي التفاعلي.**
    *   تطبيق الوضع الليلي على الواجهة.
    *   دمج بيانات الإضاءة (من الباك اند) وعرضها كطبقة على الخريطة في الوضع الليلي.

*   **[ ] المهمة 5.4: تحسين تجربة تتبع الرحلة.**
    *   تحديث موقع المستخدم على الخريطة بشكل مستمر.
    *   تحديث الزمن المقدر للوصول ديناميكيًا.
    *   عرض تنبيهات الازدحام المروري (Online فقط).

*   **[ ] المهمة 5.5: تحسين الأداء وتجربة المستخدم.**
    *   تحسين أداء التطبيق ليكون خفيفًا وسريعًا على الأجهزة الضعيفة.
    *   تقليل استهلاك البطارية.
    *   تحسين الرسوم المتحركة والانتقالات لجعل التجربة أكثر سلاسة.
    *   اختبار قابلية الاستخدام (Usability Testing) مع مستخدمين حقيقيين.

## المرحلة 6: الاختبارات النهائية والنشر

*   **[ ] المهمة 6.1: كتابة اختبارات الوحدة (Unit Tests).**
    *   كتابة اختبارات للمكونات الرئيسية والوظائف الهامة.

*   **[ ] المهمة 6.2: كتابة اختبارات التكامل (Integration Tests).**
    *   اختبار التكامل بين الواجهة الأمامية والواجهة الخلفية.

*   **[ ] المهمة 6.3: اختبار الأداء (Performance Testing).**
    *   اختبار أداء التطبيق على أجهزة مختلفة وظروف شبكة متنوعة.

*   **[ ] المهمة 6.4: اختبار التوافقية (Compatibility Testing).**
    *   اختبار التطبيق على إصدارات مختلفة من Android و iOS.

*   **[ ] المهمة 6.5: مراجعة الكود (Code Review).**
    *   مراجعة الكود لضمان الجودة، قابلية الصيانة، والالتزام بأفضل الممارسات.

*   **[ ] المهمة 6.6: إعداد النشر (Deployment).**
    *   إعداد التطبيق للنشر على متاجر التطبيقات (Google Play Store و Apple App Store).

---

